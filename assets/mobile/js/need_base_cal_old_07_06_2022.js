function resetvalues(){$("#custName").val("Your Name "),$("#ageGroup").val("Choose your age group"),$("#custNumber").val("Mobile Number"),$(".ageGp").text("Choose your age group")}function isNumber(e){var a=(e=e||window.event).which?e.which:e.keyCode;return!(a>31&&(a<48||a>57))}function gridBox02(){$("ul.planUL > li").removeAttr("style");for(var e,a=$("ul.planUL").length,t=0,s=0;s<a;s++){maxDivWid=parseInt($("ul.planUL").eq(s).css("width")),divWid=parseInt($("ul.planUL").eq(s).find("li").css("width"));var n=$("ul.planUL").eq(s).find("li").length,i=Math.round(maxDivWid/divWid);Math.ceil(n/i);for(h=0;h<n;h++){for(var r=h;r<i+h;r++)t<(e=parseInt($("ul.planUL").eq(s).find(" > li").eq(r).css("height")))&&(t=e);for(var o=h;o<i+h;o++)$("ul.planUL").eq(s).find(" > li").eq(o).css("height",t);h+=i-1,t=0}}}function websiteFeedbackFormGATrigger(e,a){dataLayer&&dataLayer.push({event:"event feedback",category:getSelectedTopMenu()+"|website feedback",action:e,label:a})}setTimeout(function(){$(".rightCont .steps").eq(0).addClass("selected")},1e3),$(".rightCont .topCnt a.links").click(function(){$(".rightCont .steps").removeClass("selected");var e=$("ul.needUL li a.selected").parent("li").index();0==e&&($("ul.needUL li a").removeClass("selected"),$(".rightCont .steps").hide(),$(".rightCont .step01").fadeIn(),setTimeout(function(){$(".rightCont .step01").addClass("selected")},300),$(".rightCont .topCnt a.links").hide(),$("ul.needUL li").eq(0).find("a").addClass("selected")),1==e&&($("ul.needUL li a").removeClass("selected"),$(".rightCont .steps").hide(),$(".rightCont .step01").fadeIn(),setTimeout(function(){$(".rightCont .step01").addClass("selected")},300),$(".rightCont .topCnt a.links").hide(),$("ul.needUL li").eq(0).find("a").addClass("selected")),2==e&&($("ul.needUL li a").removeClass("selected"),$(".rightCont .steps").hide(),$(".rightCont .step02").fadeIn(),setTimeout(function(){$(".rightCont .step02").addClass("selected")},300),$(".rightCont .topCnt a.links").fadeIn(),$("ul.needUL li").eq(1).find("a").addClass("selected"))}),$("#nextResBtn").click(function(){var e=$("#custName").val(),a=$("#ageGroup").val(),t=$("#custNumber").val(),s=0;return new RegExp(/^[789]\d{9}$/).test(t)?$(".numberRequired").css("display","none"):($(".numberRequired").css("display","block"),s++),"Choose your age group"==a?($(".ageRequired").css("display","block"),s++):$(".ageRequired").css("display","none"),"Your Name "==e?($(".nameRequired").css("display","block"),s++):$(".nameRequired").css("display","none"),0==s&&(dataLayer&&$(this).attr("data-event")&&dataLayer.push({event:$(this).attr("data-event"),category:getSelectedTopMenu(),action:$(this).attr("data-action"),label:$(this).attr("data-label")}),!0)}),$("#needSegment").change(function(){resetvalues()}),$(".steps a.link").click(function(){$("#lookingScroll").jScrollPane().data("jsp").destroy();var e=$("#needSegment").val(),a=$("#custName").val(),t=$("#ageGroup").val(),s=$("#custNumber").val();if(""==e)return $(".emptyError").css("display","block"),resetvalues(),!1;if(""==e&&"Your Name "==a&&"Choose your age group"==t&&"Mobile Number"==s)$(".emptyError").css("display","block");else if(""!=e&&"Your Name "==a&&"Choose your age group"==t&&"Mobile Number"==s){if($(".emptyError").css("display","none"),$(this).parents(".steps").hasClass("step01")){$(".rightCont .steps").removeClass("selected");$(this).parents(".steps");$("ul.needUL li a").removeClass("selected"),$(".rightCont .steps").hide(),$(".rightCont .step02").fadeIn(),setTimeout(function(){$(".rightCont .step02").addClass("selected")},300),$(".rightCont .topCnt a.links").fadeIn(),$("ul.needUL li").eq(1).find("a").addClass("selected")}}else if(""!=e&&"Your Name "!=a&&"Choose your age group"!=t&&"Mobile Number"!=s){$(".innerLoader").css("display","block");var n=$("#planResultUL");n.empty(),datastring="needSegment="+e+"&ageGroup="+t+"&name="+a+"&number="+s,$.ajax({url:base_url+"need-base-calculator/result",type:"POST",data:datastring,dataType:"JSON",success:function(a){if($(".innerLoader").css("display","none"),n.empty(),a.length>0){if("Retirement"==e)n.empty(),window.location.href=base_url."/nps/kotak-lifetime-income-plan/#/landing?utm_source=NPSorganic&utm_medium=website&utm_campaign=homepage_lead&utm_content=homepage";else for(var t=0;t<a.length;t++){var s=a[t].plan_image.replace("{filedir_10}","assets/images/uploads/insurance-plans/");if("Insurance Plans"==a[t].plan_type)var i="insurance-plans";else if("Group Plans"==a[t].plan_type)i="group-plans";else if("Online Plans"==a[t].plan_type)i="online-plans";var r=base_url+i+"/"+a[t].plan_type_url_title+"/"+a[t].plan_url_title;n.append("<li><div class='img'><img src='"+base_url+s+"'></div><div class='detail'><h3>"+a[t].plan_title+"</h3><p id='textRes'>"+a[t].plan_description+"</p><a href='"+r+"' class='links'>Know more</a></div></li>")}$(window).width()>"640"&&setTimeout(function(){$("#lookingScroll").jScrollPane()},610)}else $("#lookingScroll").jScrollPane().data("jsp").destroy(),"Health Plan"==e?window.location.href=base_url."/healthshield/?utm_source=organic&utm_medim=website&utm_campaign=buy_online_button_health_category&utm_content=health_plans":n.append("<li class='noRecordDiv'><span>Thank you for your details. We do not have any plans matching your selection. Kindly change your selection and try again or <a href='"+base_url+"insurance-plans'>Click here</a> to browse through our plans.</span></li>");resetvalues()}}),$(".numberRequired").css("display","none"),$(".ageRequired").css("display","none"),$(".nameRequired").css("display","none"),$(".rightCont .steps").removeClass("selected");$(this).parents(".steps");$("ul.needUL li a").removeClass("selected"),$(".rightCont .steps").hide(),$(".rightCont .step03").fadeIn(),setTimeout(function(){$(".rightCont .step03").addClass("selected")},300),$(".rightCont .topCnt a.links").fadeIn(),$("ul.needUL li").eq(2).find("a").addClass("selected"),setTimeout(function(){gridBox02()},50)}}),$("#feedbackClear").click(function(){dataLayer.push({event:"event feedback",category:'"'+gaCat+'"|website feedback',action:"clear",label:"click"}),$("#feedback_form")[0].reset(),grecaptcha.reset(feedbackFormCaptcha),$(".feedback_city").text("Select city"),$(".optionBox a").removeClass()}),$("#websiteFeedbackBack").click(function(){$("#feedback_form")[0].reset(),grecaptcha.reset(feedbackFormCaptcha),$(".feedback_city").text("Select city"),$(".optionBox a").removeClass(),$("#feedback_form").css("display","block"),$("#thanksMsgWebsiteFeedback").css("display","none")}),$("#feedbackSubmit").click(function(){$(".input_error").text(""),$(".errorMsg").css("display","none");var e=$.trim($('[name="feedback_name"]').val()),a=$.trim($('[name="feedback_email"]').val()),t=!0;if(0==$('[name="ndncReg"]').prop("checked")&&($("#ndncReg_error").text("Accepting T&C would help us to contact you quickly."),t=!1),""!=e&&"Your Name"!=e||($("#feedback_name_error").text("Hey, it seems you have missed out to write your name."),t=!1),""==a||"Email ID"==a?($("#feedback_email_error").text("Hey, it seems you have missed out to write your email id."),t=!1):/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(a)||($("#feedback_email_error").text("Please enter valid email id."),t=!1),!t)return $(".errorMsg").css("display","block"),!1;dataLayer.push({event:"event feedback",category:'"'+gaCat+'"|website feedback',action:"submit",label:"click"}),$.ajax({url:base_url+"feedback-form/submit",type:"POST",dataType:"JSON",data:new FormData($("#feedback_form")[0]),contentType:!1,cache:!1,processData:!1,success:function(e){if(e.status)$("input[name=rd_question1]:checked").val()&&websiteFeedbackFormGATrigger("Overall, how well does our website meet your needs?",$("input[name=rd_question1]:checked").val()),$("input[name=rd_question2]:checked").val()&&websiteFeedbackFormGATrigger("How easy was it to find what you were looking for on our website?",$("input[name=rd_question2]:checked").val()),$("input[name=rd_question3]:checked").val()&&websiteFeedbackFormGATrigger("Did it take you more or less time than you expected to find what you were looking for on our website?",$("input[name=rd_question3]:checked").val()),$("input[name=rd_question4]:checked").val()&&websiteFeedbackFormGATrigger("How visually appealing is our website?",$("input[name=rd_question4]:checked").val()),$("input[name=rd_question5]:checked").val()&&websiteFeedbackFormGATrigger("How easy is it to understand the information on our website?",$("input[name=rd_question5]:checked").val()),$("#feedback_ratings").val()&&websiteFeedbackFormGATrigger("How likely is it that you would recommend our website to your friends / relatives / colleagues?",$("#feedback_ratings").val()),$("[name=feedback_comments_to_improve]").val()&&websiteFeedbackFormGATrigger("Do you have any other comments about how we can improve our website?",$("[name=feedback_comments_to_improve]").val()),$("#feedback_form")[0].reset(),grecaptcha.reset(feedbackFormCaptcha),$('[name="feedback_name"]').val("Your Name"),$('[name="feedback_email"]').val("Email ID"),$('[name="feedback_mobile_number"]').val("Mobile Number"),$('[name="feedback_comments_to_improve"]').val("Please type here"),$('[name="feedback_city"]').prev().text($('[name="feedback_city"] option:selected').val()),$(".errorMsg").css("display","none"),$("#feedback_form").css("display","none"),$("#thanksMsgWebsiteFeedback").css("display","block"),$(".feedback_city").text("Select city");else for(var a=0;a<e.inputerror.length;a++)$('[name="'+e.inputerror[a]+'"]').addClass("has-error"),$("#feedback_form #"+e.inputerror[a]+"_error").text(e.error_string[a]),$(".errorMsg").css("display","block");$(".optionBox a").removeClass()},error:function(e,a,t){}})});