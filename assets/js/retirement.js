function switchYearMonthly(){$("#monthlySavings").is(":checked")?($("#savingsPerYearOutput").hide(),$("#savingsPerMonthlyOutput").show(),$("#monthYear").text("Monthly")):($("#savingsPerYearOutput").show(),$("#savingsPerMonthlyOutput").hide(),$("#monthYear").text("Yearly"))}function adComma(){$(".addComma").keyup(function(){var e=$(this).val().replace(/,/g,""),e=Number(e).toLocaleString("en-IN");$(this).val(e)}),$(".addCommaDefault").each(function(){var e=$(this).text(),t=(e=e.toString()).substring(e.length-3),e=e.substring(0,e.length-3),e=(""!=e&&(t=","+t),e.replace(/\B(?=(\d{2})+(?!\d))/g,",")+t);$(this).text(e)})}function retirementAgeErrorr(){var e=parseInt($("#currentAge").val()),t=parseInt($("#retirementAge").val()),r=parseInt($("#lifeExpectancy").val());r<t?$("#retirementAge").parents(".form_group").addClass("error"):$("#retirementAge").parents(".form_group").removeClass("error"),""!=e&&t<e||r<e||e==t||e<=18?$("#currentAge").parents(".form_group").addClass("error"):(console.log("abc"),$("#currentAge").parents(".form_group").removeClass("error"))}function retirementCalculator(){var e=$("#currentAge").val(),t=$("#monthlyExpensesInput").val().replace(/,/g,""),r=(console.log(t),$("#retirementAge").val()),n=$("#lifeExpectancy").val(),a=$("#inflationRateInput").val()/100,o=$("#expectadeReturnInput").val()/100,i=$("#retirementExpensesInput").val()/100,n=n-r,r=r-e,e=-formulajs.FV(a,r,0,12*t),t=e*i;console.log(e),i=-formulajs.PV((1+o)/(1+a)-1,n,t),$("#requiredRetirementFundOutput").text(Math.round(i)),requireSavingsPerYear=-Math.round(formulajs.PMT(o,r,0,i)),$("#savingsPerYearOutput").text(requireSavingsPerYear),requireSavingsPerMonth=-Math.round(formulajs.PMT(o/12,12*r,0,i)),$("#savingsPerMonthlyOutput").text(requireSavingsPerMonth),$(".interestRateOutput").text($("#expectedInflationRate").val()),adComma()}$(document).ready(function(){retirementCalculator()}),$(".form-control").keypress(function(e){if(String.fromCharCode(e=e.which||event.keyCode).match(/[^((1\d)|(\d))(\.(\d\d)|\d){01}$]/g))return!1}),$(document).on("click","#calculate",function(){retirementAgeErrorr(),$(this).parent().find("input").trigger("blur"),(errorDiv=$(".error")).length?$("html, body").animate({scrollTop:$(".error").offset().top-50},500):(retirementCalculator(),$("html, body").animate({scrollTop:$(".col-lg-5").offset().top-50},500))}),$('[name="required-savings"]').change(function(){switchYearMonthly()}),$(document).on("blur","#retirementAge, #lifeExpectancy, #currentAge",function(){retirementAgeErrorr()});