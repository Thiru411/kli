function relationShipFormGATrigger(e,r,a){if(dataLayer){var t="";if(a)switch(r){case"customer_name":t="your name";break;case"company_name":t="company name";break;case"email":t="email id";break;case"mobile_number":t="mobile number";break;case"city":t="select city";break;case"employee_count":t="select member count";break;case"plan_selected":t="select plan";break;case"terms":t="terms checkbox";break;default:t=""}t||(t=r),dataLayer.push({event:"event form",category:"form|request a relationship manager",action:e,label:t})}}$(document).ready(function(){$(document).on("click","#relationshipManagerFormBack",function(){$(".buyForm .thankyouBox").hide(),$("#relationshipManagerForm").show()}),$(document).on("click","#clearrelationshipManager",function(){$("#relationshipManagerForm")[0].reset(),grecaptcha.reset(requestarelationshipManager),$('[name="customer_name"]').val("Your Name"),$('[name="mobile_number"]').val("Mobile Number"),$('[name="company_name"]').val("Company Name"),$('[name="email"]').val("Email ID"),$(".input_error").text(""),$(".errorMsg").css("display","none"),$('[name="city"]').prev().text($('[name="city"] option:selected').val()),$('[name="employee_count"]').prev().text($('[name="employee_count"] option:selected').val()),$('[name="plan_selected"]').prev().text($('[name="plan_selected"] option:selected').val()),relationShipFormGATrigger("clear","",!1)}),$(document).on("click","#submitrelationshipManager",function(){$(".input_error").text(""),$(".errorMsg").css("display","none"),$("#relationshipManagerFormStatusMessage").text(""),$("#submitrelationshipManager").text("submitting..."),$("#submitrelationshipManager").attr("disabled",!0);var e=$.trim($('[name="customer_name"]').val()),r=$.trim($('[name="mobile_number"]').val()),a=$.trim($('[name="email"]').val()),t=$.trim($('[name="company_name"]').val()),o=$.trim($('[name="city"]').val()),i=$.trim($('[name="plan_selected"]').val()),n=$.trim($('[name="employee_count"]').val()),m=new RegExp(/^[789]\d{9}$/i),s=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i),l=!0;if(""==e||"Your Name"==e?($("#customer_name_error").text("Oops! You missed to enter your name."),l=!1,relationShipFormGATrigger("skipped","your name",!1)):relationShipFormGATrigger("completed","your name",!1),""==r||"Mobile Number"==r?($("#mobile_number_error").text("Oops! Two numbers are missing or You missed to enter the number."),l=!1,relationShipFormGATrigger("skipped","mobile number",!1)):r.length<10||!m.test(r)?($("#mobile_number_error").text("Please Enter a vaild Mobile Number"),l=!1,relationShipFormGATrigger("skipped","mobile number",!1)):relationShipFormGATrigger("completed","mobile number",!1),""==t||"Company Name"==t?($("#company_name_error").text("Oops! You missed out to enter your company name."),l=!1,relationShipFormGATrigger("skipped","company name",!1)):relationShipFormGATrigger("completed","company name",!1),""==a||"Email ID"==a?($("#email_error").text("Oops! You seems to have enter wrong email ID or missed out to enter Email ID."),l=!1,relationShipFormGATrigger("skipped","email id",!1)):s.test(a)?relationShipFormGATrigger("completed","email id",!1):($("#email_error").text("Please Enter a vaild Email ID"),l=!1,relationShipFormGATrigger("skipped","email id",!1)),""==o||"Select City"==o?($("#city_error").text("Oops! You missed out to select the city."),l=!1,relationShipFormGATrigger("skipped","select city",!1)):relationShipFormGATrigger("completed","select city",!1),""==n||"Select Member Count"==n?($("#employee_count_error").text("Member selection would help us to provide you an expert RM."),l=!1,relationShipFormGATrigger("skipped","select member count",!1)):relationShipFormGATrigger("completed","select member count",!1),""==i||"Select Plan"==i?($("#plan_selected_error").text("Plan selection is important to suggest an appropriate plans."),l=!1,relationShipFormGATrigger("skipped","select plan",!1)):relationShipFormGATrigger("completed","select plan",!1),0==$('[name="terms"]').prop("checked")?($("#terms_error").text("Accepting T&C would help us to contact you quickly."),l=!1,relationShipFormGATrigger("skipped","terms checkbox",!1)):relationShipFormGATrigger("completed","terms checkbox",!1),!l)return $(".errorMsg").css("display","block"),$("#submitrelationshipManager").text("submit"),$("#submitrelationshipManager").attr("disabled",!1),relationShipFormGATrigger("submit failed","",!1),!1;lmSMTObj.track('relationshipManagerRequested', {"city":o ,"plan": i,"name": e,"memberCount": n,},{"email": a,"phone": r,}); $.ajax({url:base_url+"request-a-relationship-manager/submit",type:"POST",dataType:"JSON",data:new FormData($("#relationshipManagerForm")[0]),contentType:!1,cache:!1,processData:!1,success:function(e){if(e.status)$("#relationshipManagerFormStatusMessage").text(""),$("#relationshipManagerForm")[0].reset(),grecaptcha.reset(requestarelationshipManager),$('[name="customer_name"]').val("Your Name"),$('[name="mobile_number"]').val("Mobile Number"),$('[name="company_name"]').val("Company Name"),$('[name="email"]').val("Email ID"),$('[name="city"]').prev().text($('[name="city"] option:selected').val()),$('[name="employee_count"]').prev().text($('[name="employee_count"] option:selected').val()),$('[name="plan_selected"]').prev().text($('[name="plan_selected"] option:selected').val()),$(".errorMsg").css("display","none"),$(".buyForm .thankyouBox #thankyou-message").text(e.status_message),$(".buyForm .thankyouBox").show(),$("#relationshipManagerForm").hide(),relationShipFormGATrigger("submit successful",(o+"|"+n+"|"+i).toLowerCase(),!1);else{for(var r=0;r<e.inputerror.length;r++)$('[name="'+e.inputerror[r]+'"]').addClass("has-error"),$("#relationshipManagerForm #"+e.inputerror[r]+"_error").text(e.error_string[r]),$(".errorMsg").css("display","block"),relationShipFormGATrigger("skipped",e.inputerror[r],!0);$("#relationshipManagerFormStatusMessage").text(e.status_message)}$("#submitrelationshipManager").text("submit"),$("#submitrelationshipManager").attr("disabled",!1)},error:function(e,r,a){alert("Something Went Wrong!"),$("#submitrelationshipManager").text("submit"),$("#submitrelationshipManager").attr("disabled",!1),relationShipFormGATrigger("submit failed","",!1)}})})});